{
  "image": "mcr.microsoft.com/devcontainers/universal:2",
  "features": {
    "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
      "version": "latest",
      "helm": "latest", 
      "minikube": "none"
    },
    "ghcr.io/devcontainers/features/aws-cli:1": {
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/node:1": {
      "version": "20"
    }
  },
  "onCreateCommand": "sudo apt-get update -qq",
  "updateContentCommand": "sudo apt-get install -y net-tools iputils-ping -qq && pip install httpie --quiet",
  "postCreateCommand": "curl -sL https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz | tar xz -C /tmp && sudo mv /tmp/eksctl /usr/local/bin",
  "postStartCommand": "[ -d kafka ] && cd kafka && docker-compose up -d || true",
  "remoteUser": "codespace",
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
      }
    }
  }
}
